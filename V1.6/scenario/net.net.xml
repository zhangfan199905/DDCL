<?xml version="1.0" encoding="UTF-8"?>

<!-- SUMO network file for DDCL (Dynamic CAV Dedicated Lane) simulation
     Freeway scenario with 4km total length, 3 lanes
     - Upstream area: 1000m (edge 1)
     - Control area: 2000m (edges 2-11, 10 segments of 200m each)
     - Bottleneck area: 300m (edge 12)
     - Downstream area: 700m (edge 13)
-->

<net version="1.16" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://sumo.dlr.de/xsd/net_file.xsd">

    <location netOffset="0.00,0.00" convBoundary="0.00,0.00,4000.00,0.00" origBoundary="0.00,0.00,4000.00,0.00" projParameter="!"/>

    <type id="highway.urban" priority="79" numLanes="3" speed="33.33" disallow="pedestrian bicycle" oneway="1"/>

    <edge id="1" from="n0" to="n1" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="1_0" index="0" allow="custom1 custom2" speed="33.33" length="1000.00" width="3.65"/>
        <lane id="1_1" index="1" allow="custom1 custom2" speed="33.33" length="1000.00" width="3.65"/>
        <lane id="1_2" index="2" allow="custom1 custom2" speed="33.33" length="1000.00" width="3.65"/>
    </edge>
    
    <!-- Control area: 10 segments of 200m each -->
    <edge id="2" from="n1" to="n2" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="2_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="2_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="2_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="3" from="n2" to="n3" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="3_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="3_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="3_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="4" from="n3" to="n4" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="4_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="4_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="4_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="5" from="n4" to="n5" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="5_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="5_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="5_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="6" from="n5" to="n6" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="6_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="6_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="6_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="7" from="n6" to="n7" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="7_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="7_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="7_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="8" from="n7" to="n8" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="8_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="8_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="8_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="9" from="n8" to="n9" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="9_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="9_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="9_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="10" from="n9" to="n10" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="10_0" index="0" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="10_1" index="1" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
        <lane id="10_2" index="2" allow="custom1 custom2" speed="33.33" length="200.00" width="3.65"/>
    </edge>
    
    <edge id="11" from="n10" to="n11" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="11_0" index="0" allow="custom1 custom2" speed="33.33" length="196.00" width="3.65"/>
        <lane id="11_1" index="1" allow="custom1 custom2" speed="33.33" length="196.00" width="3.65"/>
        <lane id="11_2" index="2" allow="custom1 custom2" speed="33.33" length="196.00" width="3.65"/>
    </edge>
    
    <!-- Bottleneck area: 2 lanes -->
    <edge id="12" from="n11" to="n12" priority="79" numLanes="2" speed="33.33">
        <lane id="12_0" index="0" allow="custom1 custom2" speed="33.33" length="292.00" width="3.65"/>
        <lane id="12_1" index="1" allow="custom1 custom2" speed="33.33" length="292.00" width="3.65"/>
    </edge>
    
    <!-- Downstream area: 3 lanes -->
    <edge id="13" from="n12" to="n13" priority="79" type="highway.urban" numLanes="3" speed="33.33">
        <lane id="13_0" index="0" allow="custom1 custom2" speed="33.33" length="696.00" width="3.65"/>
        <lane id="13_1" index="1" allow="custom1 custom2" speed="33.33" length="696.00" width="3.65"/>
        <lane id="13_2" index="2" allow="custom1 custom2" speed="33.33" length="696.00" width="3.65"/>
    </edge>

    <!-- Junctions/Nodes -->
    <junction id="n0" type="priority" x="0.00" y="0.00" incLanes="" intLanes="" shape="0.00,5.48 0.00,-5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n1" type="priority" x="1000.00" y="0.00" incLanes="1_0 1_1 1_2" intLanes="" shape="1000.00,5.48 1000.00,-5.48 1000.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n2" type="priority" x="1200.00" y="0.00" incLanes="2_0 2_1 2_2" intLanes="" shape="1200.00,5.48 1200.00,-5.48 1200.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n3" type="priority" x="1400.00" y="0.00" incLanes="3_0 3_1 3_2" intLanes="" shape="1400.00,5.48 1400.00,-5.48 1400.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n4" type="priority" x="1600.00" y="0.00" incLanes="4_0 4_1 4_2" intLanes="" shape="1600.00,5.48 1600.00,-5.48 1600.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n5" type="priority" x="1800.00" y="0.00" incLanes="5_0 5_1 5_2" intLanes="" shape="1800.00,5.48 1800.00,-5.48 1800.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n6" type="priority" x="2000.00" y="0.00" incLanes="6_0 6_1 6_2" intLanes="" shape="2000.00,5.48 2000.00,-5.48 2000.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n7" type="priority" x="2200.00" y="0.00" incLanes="7_0 7_1 7_2" intLanes="" shape="2200.00,5.48 2200.00,-5.48 2200.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n8" type="priority" x="2400.00" y="0.00" incLanes="8_0 8_1 8_2" intLanes="" shape="2400.00,5.48 2400.00,-5.48 2400.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n9" type="priority" x="2600.00" y="0.00" incLanes="9_0 9_1 9_2" intLanes="" shape="2600.00,5.48 2600.00,-5.48 2600.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n10" type="priority" x="2800.00" y="0.00" incLanes="10_0 10_1 10_2" intLanes="" shape="2800.00,5.48 2800.00,-5.48 2800.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n11" type="priority" x="2996.00" y="0.00" incLanes="11_0 11_1 11_2" intLanes="" shape="2996.00,5.48 2996.00,-3.65 2996.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n12" type="priority" x="3288.00" y="0.00" incLanes="12_0 12_1" intLanes="" shape="3288.00,3.65 3288.00,-3.65 3288.00,5.48">
        <request index="0" response="0" foes="0"/>
    </junction>
    
    <junction id="n13" type="priority" x="3984.00" y="0.00" incLanes="13_0 13_1 13_2" intLanes="" shape="3984.00,5.48 3984.00,-5.48">
        <request index="0" response="0" foes="0"/>
    </junction>

    <!-- Connections -->
    <connection from="1" to="2" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="1" to="2" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="1" to="2" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="2" to="3" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="2" to="3" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="2" to="3" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="3" to="4" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="3" to="4" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="3" to="4" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="4" to="5" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="4" to="5" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="4" to="5" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="5" to="6" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="5" to="6" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="5" to="6" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="6" to="7" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="6" to="7" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="6" to="7" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="7" to="8" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="7" to="8" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="7" to="8" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="8" to="9" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="8" to="9" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="8" to="9" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="9" to="10" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="9" to="10" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="9" to="10" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="10" to="11" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="10" to="11" fromLane="1" toLane="1" dir="s" state="M"/>
    <connection from="10" to="11" fromLane="2" toLane="2" dir="s" state="M"/>
    
    <connection from="11" to="12" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="11" to="12" fromLane="1" toLane="1" dir="s" state="M"/>
    
    <connection from="12" to="13" fromLane="0" toLane="0" dir="s" state="M"/>
    <connection from="12" to="13" fromLane="1" toLane="1" dir="s" state="M"/>

</net>
